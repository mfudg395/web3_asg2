(this.webpackJsonpweb3_asg1=this.webpackJsonpweb3_asg1||[]).push([[0],{224:function(e,t,c){},225:function(e,t,c){},226:function(e,t,c){},309:function(e,t,c){},383:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),r=c(24),n=c.n(r),l=(c(224),c(164)),i=c(63),o=c.n(i),j=c(86),b=c(25),d=(c(225),c(226),c(74)),h=c(392),p=c(2),x=function(e){var t=Object(a.useState)(""),c=Object(b.a)(t,2),s=c[0],r=c[1];return Object(p.jsx)("div",{className:"home-page",children:Object(p.jsx)(h.a,{classNames:"home-animation",timeout:{enter:500,exit:300,appear:1e3},appear:!0,enter:!1,exit:!1,in:!0,children:Object(p.jsxs)("div",{className:"HomeBrowserContainer",children:[Object(p.jsx)("label",{htmlFor:"title-input",id:"title-label",children:"Title"}),Object(p.jsx)("input",{type:"text",id:"title-input",placeholder:"Search plays",onInput:function(e){return r(e.target.value)}}),Object(p.jsx)("div",{className:"line-break"}),Object(p.jsxs)(d.b,{to:"/browse",children:[Object(p.jsx)("button",{onClick:function(){return e.searchPlays(s)},id:"matching-plays-button",size:"large",className:"search-button",children:"Search Matching Plays"}),Object(p.jsx)("button",{onClick:function(){return e.searchAllPlays()},id:"all-plays-button",size:"large",className:"search-button",children:"Search All Plays"})]}),Object(p.jsx)("div",{className:"line-break"}),Object(p.jsx)("div",{children:"Hero image credit: Alfons Morales, unsplash.com"})]})})})},u=c(159),O=c(385),f=c(77),y=function(e){var t="https://via.placeholder.com/300.png/?text=".concat(e.play.title.replace(/\s/g,"+"));return Object(p.jsxs)(O.a,{title:Object(p.jsx)("img",{src:t,alt:e.play.title,className:"play-card-image"}),size:"small",children:[Object(p.jsxs)("p",{children:[e.play.title,Object(p.jsx)("br",{}),"(",e.play.likelyDate,")"]}),Object(p.jsx)("button",{className:"favorite-button",onClick:function(){e.favoritePlay(e.play.id)},children:"\u2764\ufe0f"}),""!=e.play.filename?Object(p.jsx)("span",{className:"has-text-icon",children:"\ud83d\udcd9"}):null,Object(p.jsx)(f.a,{type:"primary",className:"view-button",onClick:function(){e.viewPlay(e.play.id)},children:"View"})]})},m=function(e){return Object(p.jsx)("div",{className:"black-border",children:Object(p.jsx)("div",{className:"plays-list grid-item",children:e.plays.map((function(t){return Object(p.jsx)(y,{play:t,favoritePlay:e.favoritePlay,viewPlay:e.viewPlay,favState:e.favState},t.id)}))})})},v=function(e){return Object(p.jsx)("div",{className:e.favState?"playBrowser":"playBrowser playBrowser-fav-hidden",children:Object(u.isEmpty)(e.plays)?Object(p.jsx)("div",{className:"grid-item plays-list black-border",children:"No plays found."}):Object(p.jsx)(m,{plays:e.plays,sortPlays:e.sortPlays,favoritePlay:e.favoritePlay,viewPlay:e.viewPlay,favState:e.favState})})},g=c(386),S=c(388),k=c(387),w=function(e){var t=Object(a.useState)(""),c=Object(b.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)(""),l=Object(b.a)(n,2),i=l[0],o=l[1],j=Object(a.useState)(""),d=Object(b.a)(j,2),h=d[0],x=d[1],u=Object(a.useState)(""),O=Object(b.a)(u,2),y=O[0],m=O[1],v=function(e){"title-filter"===e.currentTarget.name?r(e.currentTarget.value):"before-year-filter"===e.currentTarget.name?o(e.currentTarget.value):"after-year-filter"===e.currentTarget.name&&x(e.currentTarget.value)};return Object(p.jsx)("div",{className:"filter",children:Object(p.jsxs)(g.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",children:[Object(p.jsx)(g.a.Item,{label:"Title",children:Object(p.jsx)(S.a,{name:"title-filter",onChange:v})}),Object(p.jsx)(g.a.Item,{label:"Before",children:Object(p.jsx)(S.a,{name:"before-year-filter",onChange:v})}),Object(p.jsx)(g.a.Item,{label:"After",children:Object(p.jsx)(S.a,{name:"after-year-filter",onChange:v})}),Object(p.jsx)(g.a.Item,{label:"Genre",children:Object(p.jsxs)(k.a,{name:"genre-filter",defaultValue:"",onChange:function(e){m(e)},children:[Object(p.jsx)(k.a.Option,{value:""}),Object(p.jsx)(k.a.Option,{value:"comedy",children:"Comedy"}),Object(p.jsx)(k.a.Option,{value:"tragedy",children:"Tragedy"}),Object(p.jsx)(k.a.Option,{value:"history",children:"History"})]})}),Object(p.jsxs)(g.a.Item,{children:[Object(p.jsx)(f.a,{type:"primary",class:"filter-button",onClick:function(){""!==i&&isNaN(i)||""!==h&&isNaN(h)?alert("Please put a valid year for the year filters."):e.filterPlays(s,i,h,y)},children:"Filter"}),Object(p.jsx)(f.a,{class:"clear-filter-button",onClick:function(){e.filterPlays("","","","")},children:"Clear"})]})]})})},P=function(e){return Object(p.jsx)("span",{children:Object(p.jsxs)("p",{className:"favorite-item",children:[Object(p.jsx)("button",{className:"remove-favorite",onClick:function(){e.removePlay(e.play)},children:"\u274c"}),Object(p.jsxs)("span",{onClick:function(){e.viewPlay(e.play.id)},children:[e.play.title," (",e.play.likelyDate,")"]})]})})},N=function(e){return Object(p.jsxs)("article",{children:[Object(p.jsx)("h2",{className:e.showFavs?"favorites-header":"favorites-header-hidden",children:"Favorites\u2764\ufe0f"}),0===e.favPlays.length?Object(p.jsx)("p",{children:"No favourite plays... yet"}):e.favPlays.map((function(t){return Object(p.jsx)(P,{play:t,removePlay:e.removePlay,viewPlay:e.viewPlay,showFavs:e.showFavs},t.id)}))]})},C=function(e){var t="https://via.placeholder.com/250.png/?text=".concat(e.play.title.replace(/\s/g,"+"));return Object(p.jsxs)("div",{className:"details-general",children:[Object(p.jsx)("img",{src:t,alt:e.play.title}),Object(p.jsx)("h2",{children:e.play.title}),Object(p.jsx)("p",{children:e.play.synopsis}),Object(p.jsx)(f.a,{type:"primary",size:"large",onClick:function(){return e.viewPlay(e.play.id)},children:"Close"}),Object(p.jsx)("button",{className:"details-favorite-button",onClick:function(){return e.favoritePlay(e.play.id)},children:"\u2764\ufe0f"})]})},T=function(e){return Object(p.jsx)("div",{children:Object(p.jsxs)("p",{children:[e.character," - ",e.desc]})})},I=c(208),W=c.n(I),L=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:e.speech.speaker}),e.speech.lines.map((function(t){return Object(p.jsx)("p",{children:Object(p.jsx)(W.a,{searchWords:e.searchWords,textToHighlight:t})})}))]})},A=function(e){var t=e.scene.speeches;return t=t.filter((function(t){return t.speaker===e.speaker})),"allPlayers"===e.speaker?Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:e.scene.name}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{children:e.scene.title}),Object(p.jsx)("p",{children:Object(p.jsx)("em",{children:e.scene.stageDirection})}),e.scene.speeches.map((function(t){return Object(p.jsx)(L,{speech:t,searchWords:e.searchWords})}))]}):0===t.length?Object(p.jsx)("div",{children:Object(p.jsxs)("p",{children:["No text found for ",Object(p.jsxs)("em",{children:[e.speaker,"."]})]})}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:e.scene.name}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{children:e.scene.title}),Object(p.jsx)("p",{children:Object(p.jsx)("em",{children:e.scene.stageDirection})}),t.map((function(t){return Object(p.jsx)(L,{speech:t,searchWords:e.searchWords})}))]})},D=function(e){return"SCENE I"===e.scene?Object(p.jsxs)("div",{className:"details-text",children:[Object(p.jsx)("h2",{children:e.act.name}),Object(p.jsx)(A,{scene:e.act.scenes[0],speaker:e.textSelection.char,searchWords:e.searchWords})]}):"SCENE II"===e.scene?Object(p.jsxs)("div",{className:"details-text",children:[Object(p.jsx)("h2",{children:e.act.name}),Object(p.jsx)(A,{scene:e.act.scenes[1],speaker:e.textSelection.char,searchWords:e.searchWords})]}):"SCENE III"===e.scene?void 0!==e.act.scenes[2]?Object(p.jsxs)("div",{className:"details-text",children:[Object(p.jsx)("h2",{children:e.act.name}),Object(p.jsx)(A,{scene:e.act.scenes[2],speaker:e.textSelection.char,searchWords:e.searchWords})]}):Object(p.jsxs)("div",{className:"details-text",children:[Object(p.jsx)("h2",{children:e.act.name}),Object(p.jsx)(A,{scene:e.act.scenes[0],speaker:e.textSelection.char,searchWords:e.searchWords})]}):void 0},F=function(e){return"ACT I"===e.textSelection.act?Object(p.jsx)(D,{act:e.text.acts[0],scene:e.textSelection.scene,textSelection:e.textSelection,searchWords:e.searchWords}):"ACT II"===e.textSelection.act?Object(p.jsx)(D,{act:e.text.acts[1],scene:e.textSelection.scene,textSelection:e.textSelection,searchWords:e.searchWords}):"ACT III"===e.textSelection.act?Object(p.jsx)(D,{act:e.text.acts[2],scene:e.textSelection.scene,textSelection:e.textSelection,searchWords:e.searchWords}):void 0},E=c(126),z=c(127),B=c(137),G=c(129),M=function(e){Object(B.a)(c,e);var t=Object(G.a)(c);function c(){var e;Object(E.a)(this,c);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onClick=function(){if(e.props.label.length>0){var t=e.props,c=t.label;(0,t.onClick)(c)}"text"===e.props.label.toLowerCase()?e.props.setTextTabSelected(!0):e.props.setTextTabSelected(!1)},e}return Object(z.a)(c,[{key:"render",value:function(){var e=this.onClick,t=this.props,c=t.activeTab,a=t.label,s="tab-list-item";return c===a&&(s+=" tab-list-active"),Object(p.jsx)("li",{className:s,onClick:e,children:a})}}]),c}(a.Component),H=M,J=function(e){Object(B.a)(c,e);var t=Object(G.a)(c);function c(e){var a;return Object(E.a)(this,c),(a=t.call(this,e)).onClickTabItem=function(e){a.setState({activeTab:e})},a.state={activeTab:a.props.children[0].props.label},a}return Object(z.a)(c,[{key:"render",value:function(){var e=this,t=this.onClickTabItem,c=this.props.children,a=this.state.activeTab;return Object(p.jsxs)("div",{className:"tabs",children:[Object(p.jsx)("ol",{className:"tab-list",children:c.map((function(c){var s=c.props.label;return Object(p.jsx)(H,{setTextTabSelected:e.props.setTextTabSelected,activeTab:a,label:s,onClick:t},s)}))}),Object(p.jsx)("div",{className:"tab-content",children:c.map((function(e){if(e.props.label===a)return e.props.children}))})]})}}]),c}(a.Component),_=function(e){return Object(p.jsx)("div",{className:"details-tabs",children:e.hasPlayInfo?Object(p.jsxs)(J,{setTextTabSelected:e.setTextTabSelected,children:[Object(p.jsxs)("div",{label:"Details",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Likely date of composition:"})," ",e.play.likelyDate]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Genre:"})," ",e.play.genre]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("a",{href:e.play.wiki,children:"Wiki"})," - ",Object(p.jsx)("a",{href:e.play.gutenberg,children:"Gutenberg"})," - ",Object(p.jsx)("a",{href:e.play.shakespeareOrg,children:"Shakespeare.org"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Description:"})," ",e.play.desc]})]}),Object(p.jsx)("div",{label:"Characters",children:e.playInfo.playText.persona.map((function(e){return Object(p.jsx)(T,{character:e.player,desc:e.desc},e.player)}))}),Object(p.jsx)("div",{label:"Text",children:Object(p.jsx)(F,{text:e.playInfo.playText,textSelection:e.textSelection,searchWords:e.searchWords})})]}):Object(p.jsxs)(J,{setTextTabSelected:e.setTextTabSelected,children:[Object(p.jsxs)("div",{label:"Details",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Likely date of composition:"})," ",e.play.likelyDate]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Genre:"})," ",e.play.genre]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("a",{href:e.play.wiki,children:"Wiki"})," - ",Object(p.jsx)("a",{href:e.play.gutenberg,children:"Gutenberg"})," - ",Object(p.jsx)("a",{href:e.play.shakespeareOrg,children:"Shakespeare.org"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Description:"})," ",e.play.desc]})]}),Object(p.jsx)("div",{label:""})]})})},R=c(98),Y=function(e){var t="https://via.placeholder.com/250.png/?text=".concat(e.play.title.replace(/\s/g,"+")),c=function(t){var c=R(e.textSelection);"act"===t.target.name?c.act=t.target.value:"scene"===t.target.name?c.scene=t.target.value:"char"===t.target.name?c.char=t.target.value:console.log("didn't change act, scene, or character"),e.setTextSelection(c)};return Object(p.jsxs)("div",{className:"details-general",children:[Object(p.jsx)("img",{src:t,alt:e.play.title}),Object(p.jsx)("h2",{children:e.play.title}),Object(p.jsx)("label",{for:"act",children:"Act"}),Object(p.jsx)("select",{name:"act",id:"act",className:"details-search-option",onChange:c,children:e.playInfo.playText.acts.map((function(e){return Object(p.jsx)("option",{value:e.name,children:e.name})}))}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{for:"scene",children:"Scene"}),Object(p.jsx)("select",{name:"scene",id:"scene",className:"details-search-option",onChange:c,children:e.playInfo.playText.acts.find((function(t){return t.name===e.textSelection.act})).scenes.map((function(e){return Object(p.jsx)("option",{value:e.name,children:e.name})}))}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{for:"char",children:"Character"}),Object(p.jsxs)("select",{name:"char",id:"char",className:"details-search-option",onChange:c,children:[Object(p.jsx)("option",{value:"allPlayers",children:"ALL PLAYERS"}),e.playInfo.playText.persona.map((function(e){return Object(p.jsx)("option",{value:e.player,children:e.player})}))]}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{for:"highlight",children:"Highlight text"}),Object(p.jsx)("input",{type:"text",name:"highlight",id:"highlight",placeholder:"Search",className:"details-search-option",onChange:function(t){e.setSearchWords(t.target.value.split(" "))}})]}),Object(p.jsx)("br",{}),Object(p.jsx)(f.a,{type:"primary",onClick:function(){return e.viewPlay(e.play.id)},children:"Close"}),Object(p.jsx)("button",{className:"details-favorite-button",onClick:function(){return e.favoritePlay(e.play.id)},children:"\u2764\ufe0f"})]})},q=function(e){var t=Object(a.useState)({}),c=Object(b.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)(!1),l=Object(b.a)(n,2),i=l[0],d=l[1],h=Object(a.useState)(!1),x=Object(b.a)(h,2),u=x[0],O=x[1],f=Object(a.useState)({}),y=Object(b.a)(f,2),m=y[0],v=y[1],g=Object(a.useState)([]),S=Object(b.a)(g,2),k=S[0],w=S[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(j.a)(o.a.mark((function t(){var c,a,s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.getItem(e.play.id)){t.next=15;break}if(""==e.play.filename){t.next=13;break}return c="/api/list/".concat(e.play.id),t.next=5,fetch(c);case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,r(s[0]),v({act:s[0].playText.acts[0].name,scene:s[0].playText.acts[0].scenes[0].name,char:"allPlayers"}),d(!0),localStorage.setItem(e.play.id,JSON.stringify(s[0]));case 13:t.next=19;break;case 15:n=JSON.parse(localStorage.getItem(e.play.id)),r(n),v({act:n.playText.acts[0].name,scene:n.playText.acts[0].scenes[0].name,char:"allPlayers"}),d(!0);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(p.jsxs)("div",{className:"details-panel",children:[u?Object(p.jsx)(Y,{play:e.play,playInfo:s,viewPlay:e.viewPlay,favoritePlay:e.favoritePlay,textSelection:m,setTextSelection:v,setSearchWords:w}):Object(p.jsx)(C,{play:e.play,viewPlay:e.viewPlay,favoritePlay:e.favoritePlay}),Object(p.jsx)(_,{play:e.play,playInfo:s,hasPlayInfo:i,textSelection:m,setTextSelection:v,setTextTabSelected:O,searchWords:k})]})},U=c.p+"static/media/logo.e66a4045.png",V=c(393),K=c(389),Q=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:e.currentProfile.picture.large,alt:"Profile picture"}),Object(p.jsx)("p",{children:e.currentProfile.details.firstname+" "+e.currentProfile.details.lastname}),Object(p.jsx)("p",{children:e.currentProfile.details.city+", "+e.currentProfile.details.country}),Object(p.jsxs)("p",{children:["Joined ",new Date(e.currentProfile.membership.date_joined).toDateString()]})]})},X=(c(309),function(e){return Object(p.jsxs)("div",{class:"grid-container",children:[Object(p.jsxs)("div",{class:"grid-header",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Group Members:"})," Anthony Dang, Matthew Fudge, Nahuel Paladino"]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"GitHub Link:"})," ",Object(p.jsx)("a",{href:"https://github.com/mfudg395/web3_asg2",children:"https://github.com/mfudg395/web3_asg2"})]})]}),Object(p.jsxs)("div",{class:"grid-child",children:[Object(p.jsx)("p",{children:Object(p.jsx)("b",{children:"Packages and libraries used:"})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"antd"}),Object(p.jsx)("li",{children:"bcrypt"}),Object(p.jsx)("li",{children:"dotenv"}),Object(p.jsx)("li",{children:"ejs"}),Object(p.jsx)("li",{children:"express"}),Object(p.jsx)("li",{children:"express-flash"}),Object(p.jsx)("li",{children:"express-session"}),Object(p.jsx)("li",{children:"mongoose"}),Object(p.jsx)("li",{children:"lodash"}),Object(p.jsx)("li",{children:"passport"}),Object(p.jsx)("li",{children:"passport-local"}),Object(p.jsx)("li",{children:"react-highlight-words"}),Object(p.jsx)("li",{children:"react-transition-group"}),Object(p.jsx)("li",{children:"react-tabs-component"}),Object(p.jsx)("li",{children:"react-router-dom"})]})]}),Object(p.jsxs)("div",{class:"grid-child",children:[Object(p.jsx)("p",{children:Object(p.jsx)("b",{children:"Third-party code and assets used:"})}),Object(p.jsxs)("ul",{className:"third-party-about",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://www.digitalocean.com/community/tutorials/react-tabs-component",children:"How to Build a Tabs Component with React"})," - for creating PlayDetails tabs"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://github.com/reactjs/react-transition-group/blob/master/Migration.md",children:"react-transition-group Migration Guide"})," - for creating HomeBrowser transition animation"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://www.w3schools.com/css/css_tooltip.asp",children:"CSS Tooltip Tutorial"})," - for creating Favorites arrow tooltip on hover"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://stackoverflow.com/questions/34582405/react-wont-load-local-images",children:"StackOverflow - React won't load local images"})," - for help with displaying images"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://loading.io/css/",children:"loading.io"})," - for loading animation"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://placeholder.com/",children:"placeholder.com"})," - for placeholder images on play cards"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://unsplash.com/photos/YLSwjSy7stw",children:"Alfons Morales, unsplash.com"})," - for hero image"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("a",{href:"https://toppng.com/free-image/experience-the-discussion-online-library-book-logo-PNG-free-PNG-Images_189362",children:"toppng.com"})," - for header logo"]})]}),Object(p.jsx)("p",{children:Object(p.jsx)("b",{children:"API links:"})}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"https://web3-plays-browser.herokuapp.com/api/list",children:"/api/list"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"https://web3-plays-browser.herokuapp.com/api/list/macbeth",children:"/api/list/id (uses Macbeth placeholder)"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"https://web3-plays-browser.herokuapp.com/api/user/1",children:"/api/user/id (uses id 1 placeholder)"})})]})]})]})}),Z=function(e){var t=Object(a.useState)(!1),c=Object(b.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)(!1),l=Object(b.a)(n,2),i=l[0],h=l[1],x=Object(a.useState)({}),u=Object(b.a)(x,2),O=u[0],y=u[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"currentUser",e.next=4,fetch("currentUser");case 4:return t=e.sent,e.next=7,t.json();case 7:return c=(c=e.sent)[0].id,a="api/user/"+c,e.next=12,fetch(a);case 12:return s=e.sent,e.next=15,s.json();case 15:r=e.sent,y(r[0]),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(p.jsx)("header",{className:"list-view-header",children:Object(p.jsxs)("div",{className:"flex-container flex-vertical-center",children:[Object(p.jsx)(d.b,{to:"/home",children:Object(p.jsx)("img",{src:U,title:"Book Logo",alt:"Book Logo",className:"site-logo"})}),Object(p.jsxs)("div",{className:"header-button-container",children:[Object(p.jsx)(f.a,{className:"profile-button",type:"default",size:"large",onClick:function(){h(!0)},children:"Profile"}),Object(p.jsx)(V.a,{title:"Profile",placement:"right",closable:!0,visible:i,onClose:function(){h(!1)},children:Object(p.jsx)(Q,{currentProfile:O})}),Object(p.jsx)(f.a,{className:"about-button",type:"default",size:"large",onClick:function(){r(!0)},children:"About"}),Object(p.jsx)(K.a,{title:"About",footer:null,centered:!0,maskClosable:"true",width:"75rem",onCancel:function(){r(!1)},visible:s,children:Object(p.jsx)(X,{})}),Object(p.jsx)(f.a,{className:"logout-button",type:"default",size:"large",children:Object(p.jsx)("a",{href:"/logout",children:"Logout"})})]})]})})},$=c(28),ee=c(209),te=c.n(ee),ce=c(390),ae=c(394),se=(c(319),c(210)),re=c(391);te.a.setAppElement(document.querySelector("#root"));var ne=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!0),n=Object(b.a)(r,2),i=n[0],d=n[1];Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!localStorage.getItem("playsList")){e.next=8;break}(t=JSON.parse(localStorage.getItem("playsList"))).sort((function(e,t){return e.title>t.title?1:-1})),s(t),d(!1),e.next=19;break;case 8:return"api/list",e.next=11,fetch("api/list");case 11:return c=e.sent,e.next=14,c.json();case 14:(a=e.sent).sort((function(e,t){return e.title>t.title?1:-1})),localStorage.setItem("playsList",JSON.stringify(a)),s(a),d(!1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=Object(a.useState)([]),u=Object(b.a)(h,2),O=u[0],y=u[1],m=function(e){M&&H(!1);var t=c.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}));y(t)},g=function(){M&&H(!1),y(c)},S=function(e){var t=R(O);t.sort((function(t,c){return"title"===e.currentTarget.name?t.title>c.title?1:-1:"year"===e.currentTarget.name?t.likelyDate>c.likelyDate?-1:1:void 0})),y(t)},k=Object(a.useState)([]),P=Object(b.a)(k,2),C=P[0],T=P[1],I=function(e){var t=R(c).find((function(t){return t.id===e}));!function(e){var t=!1;return C.forEach((function(c){c.id===e.id&&(t=!0)})),t}(t)?T(C.concat(t)):alert("Play already in favorites!")},W=function(e){var t=Object(l.a)(C),c=t.indexOf(e);t.splice(c,1),T(t)},L=Object(a.useState)(!1),A=Object(b.a)(L,2),D=A[0],F=A[1],E=function(){return F(!D)},z=function(e,t,a,s){var r=Object(l.a)(c);r=r.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})),""!==t&&(r=r.filter((function(e){return t>e.likelyDate}))),""!==a&&(r=r.filter((function(e){return a<e.likelyDate}))),""!==s&&(r=r.filter((function(e){return s===e.genre}))),y(r)},B=Object(a.useState)(!1),G=Object(b.a)(B,2),M=G[0],H=G[1],J=Object(a.useState)(""),_=Object(b.a)(J,2),Y=_[0],U=_[1],V=function(e){H(!M),U(e)},K=re.a.Panel;return i?Object(p.jsxs)("div",{className:"loading-container",children:[Object(p.jsxs)("div",{className:"lds-ellipsis",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]}),Object(p.jsx)("h1",{children:"Loading..."})]}):Object(p.jsxs)("main",{id:"app-page",children:[Object(p.jsx)($.a,{path:"/",exact:!0,render:function(){return Object(p.jsx)(x,{searchPlays:m,searchAllPlays:g})}}),Object(p.jsx)($.a,{path:"/home",exact:!0,render:function(){return Object(p.jsx)(x,{searchPlays:m,searchAllPlays:g})}}),Object(p.jsx)($.a,{path:"/browse",exact:!0,render:function(){return Object(p.jsx)(ce.a,{children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(Z,{}),Object(p.jsxs)("div",{className:"main-container",children:[Object(p.jsxs)("div",{className:"sidebar",children:[M?null:Object(p.jsx)("div",{className:"sort-container",children:Object(p.jsxs)(ae.b,{size:20,children:[Object(p.jsx)("h2",{className:"inline-block",children:"Sort by:"}),Object(p.jsx)(f.a,{type:"primary",name:"title",size:"large",onClick:S,children:"Title"}),Object(p.jsx)(f.a,{type:"primary",name:"year",size:"large",onClick:S,children:"Year"})]})}),Object(p.jsxs)(re.a,{accordion:!0,defaultActiveKey:["1"],children:[M?null:Object(p.jsx)(K,{header:"Filters",children:Object(p.jsx)(w,{plays:O,filterPlays:z,favState:D})},"1"),Object(p.jsx)(K,{header:"Favourites",children:Object(p.jsx)(N,{favPlays:C,removePlay:W,toggleDisplay:E,showFavs:D,viewPlay:V})},"2")]})]}),Object(p.jsxs)(se.Content,{children:[M?null:Object(p.jsx)(v,{plays:O,sortPlays:S,favoritePlay:I,viewPlay:V,favState:D}),M?Object(p.jsx)(q,{play:c.find((function(e){return e.id===Y})),viewPlay:V,favoritePlay:I,showFavs:D}):null]})]})]})})})}})]})},le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,395)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),r(e),n(e)}))};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(d.a,{basename:".",children:Object(p.jsx)(ne,{})})}),document.getElementById("root")),le()}},[[383,1,2]]]);
//# sourceMappingURL=main.63083ff3.chunk.js.map